#:kivy 1.9.1


<StandardButton>:
    size_hint: None, None
    height: "40dp"
    font_size: "18sp"
    width: "250dp"
    background_color: 1, 1, 1, 0.6
    border: 7, 0, 0, 0


<EvalSelectable@Button>:
    size_hint_y: None
    height: '60dp'
    bold: True
    background_color: 1, 1, 1, 0.2
    font_size: '25sp'
    border: 15, 0, 0, 0


<CustomDropDown>:
    canvas:
        Rectangle:
            pos: self.pos
            size: self.size
            source: "images/projectz.jpg"
    Button:
        text: 'Evaluation'
        size_hint_y: None
        height: "44dp"
        background_color: 1, 1, 1, 0.6
        on_release: root.select('Evaluation')
    Button:
        text: 'Comportement'
        size_hint_y: None
        height: "44dp"
        background_color: 1, 1, 1, 0.6
        on_release: root.select('Comportement')


<Root>:
    menu: menu_button_id
    screen_manager: screen_manager_id
    skills_screen: skills_screen_id
    orientation: "vertical"
    canvas:
        Rectangle:
            pos: self.pos
            size: self.size
            source: "images/projectz.jpg"
    BoxLayout:
        orientation: "horizontal"
        size_hint_y: None
        height: "44dp"
        Label:
            size_hint_x: None
            width: "44dp"
        MenuButton:
            id: menu_button_id
            text: "Accueil"
            background_color: 1, 1, 1, 0.6
        Button:
            size_hint_x: None
            width: "44dp"
            canvas:
                Rectangle:
                    size: self.size
                    pos: self.pos
                    source: "images/ic_menu_black_24dp.png"
            background_color: 1, 1, 1, 0.6
            on_press: app.open_settings()
    ScreenManager:
        id: screen_manager_id
        StartScreen:
            name: "Accueil"

        SkillsScreen:
            id: skills_screen_id
            name: "Evaluation"

        BehaviourScreen:
            name: "Comportement"


<StartScreen@Screen>:
    padding: "1dp", "1dp"
    BoxLayout:
        orientation: "vertical"
        BoxLayout:
            orientation: "vertical"
            size_hint: None, .8
            pos_hint: {"center_x": .5, "top": 1}
            width: "250dp"
            spacing: "10dp"
            Label:
                id: active_class
                text: ""
                size_hint_y: None
                height: "60dp"
            StandardButton:
                text: "charger des competences"
                #on_release: root.random_pick_popup(display_label)
            StandardButton:
                text: "charger une classe"
                #on_release: root.open_class_popup(None)
            StandardButton:
                text: "afficher evaluations"
                #on_release: display_label.text=root.parent.format_students_skills()
            StandardButton:
                text: "afficher comportements"
                #on_release: display_label.text=root.parent.format_students_behaviour()
            Label:
                id: display_label
                background_color: 1, 1, 1, .3
                text: ""


<SkillsScreen>:
    student_name: student_name_id
    skill_name: skill_name_id
    skill_summary: skill_summary_id
    padding: "1dp", "1dp"
    BoxLayout:
        orientation: "vertical"
        EvalSelectable:
            id: student_name_id
            text: "Eleve"
            on_release: app.open_student_popup()
        EvalSelectable:
            id: skill_name_id
            text: "Competence"
            on_release: app.open_skills_popup()
        Label:
            id: skill_summary_id
            text: ""
            color: 1, 1, 1, 1
            font_size: '17sp'
            valign: 'top'
            text_size: self.size
        BoxLayout:
            size_hint_y: None
            height: (self.width - 5 * self.spacing) / 4
            orientation: 'horizontal'
            spacing: "10dp"
            padding: "10dp", "0dp"
            Button:
                canvas:
                    Rectangle:
                        size: self.size
                        pos: self.pos
                        source: "images/ic_sentiment_very_dissatisfied_black_24dp.png"
                background_color: 1, 1, 1, 0.6
                on_release: app.set_student_skill(-2)
            Button:
                canvas:
                    Rectangle:
                        size: self.size
                        pos: self.pos
                        source: "images/ic_sentiment_dissatisfied_black_24dp.png"
                background_color: 1, 1, 1, 0.6
                on_release: app.set_student_skill(-1)
            Button:
                canvas:
                    Rectangle:
                        size: self.size
                        pos: self.pos
                        source: "images/ic_sentiment_satisfied_black_24dp.png"
                background_color: 1, 1, 1, 0.6
                on_release: app.set_student_skill(1)
            Button:
                canvas:
                    Rectangle:
                        size: self.size
                        pos: self.pos
                        source: "images/ic_sentiment_very_satisfied_black_24dp.png"
                background_color: 1, 1, 1, 0.6
                on_release: app.set_student_skill(2)


<BehaviourScreen@Screen>:
    padding: "1dp", "1dp"

    BoxLayout:
        orientation: "vertical"